webpackJsonp([2],{"/t5h":function(t,e){},"MBl/":function(t,e){},N2Ln:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Pf8O"),r=s("8MDr"),i=s("odKQ"),n=s("Dd8w"),o=s.n(n),l=s("NYxO"),c=s("PvFA"),u={props:{resoultSonglist:{type:Array,default:[]}},computed:{FilterSonglist:function(){var t=[];return this.resoultSonglist.forEach(function(e){t.push(Object(c.a)(e))}),t}},methods:o()({selectPlay:function(t,e){this.set_Play({list:this.FilterSonglist,index:e})}},Object(l.b)(["set_Play"])),mounted:function(){}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.FilterSonglist.length,expression:"FilterSonglist.length"}],staticClass:"result"},[s("div",{staticClass:"songlist"},[s("div",{staticClass:"title"},[t._v("搜索结果")]),t._v(" "),s("ul",{staticClass:"wrapper"},t._l(t.FilterSonglist,function(e,a){return s("li",{key:e.id,on:{click:function(s){return t.selectPlay(e,a)}}},[s("div",{staticClass:"left_box"},[s("div",{staticClass:"songinfo"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"author"},[t._v(t._s(e.singer))])])]),t._v(" "),t._m(0,!0)])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right_box"},[e("span",{staticClass:"iconfont icon-bofang"})])}]};var v=s("VU/8")(u,h,!1,function(t){s("tUQD")},null,null).exports,d={data:function(){return{searchValue:"",searchHistory:[],searchResultArr:[],isSearch:!1}},components:{Scroll:r.a,Resoult:v,Loading:i.a},computed:{LoadingShow:function(){var t;return this.isSearch&&(t=!0),this.isSearch&&this.searchResultArr.length&&(t=!1),t}},methods:{clearInputValue:function(){this.searchValue=""},clearHistory:function(){window.localStorage.setItem("keywords",""),this.setHistory()},getLocalStorageMsg:function(){var t=window.localStorage.getItem("keywords")||[];return t instanceof Array||(t=t.split(",")),t},setLocalStorageMsg:function(t){void 0!=this.searchValue&&""!=this.searchValue&&t.length>0&&t.push(this.searchValue),window.localStorage.setItem("keywords",t)},filterArr:function(t){return t=t.filter(function(t,e,s){return s.indexOf(t)==e})},setHistory:function(){var t=this.getLocalStorageMsg();t=this.filterArr(t),this.searchHistory=t},submit:function(t){var e=this;if(""==t||null==t)return!1;var s=this.getLocalStorageMsg();(s=this.filterArr(s)).push(t),this.setLocalStorageMsg(s),this.setHistory(),this.searchValue=t,this.isSearch=!0,this.searchResultArr=[],Object(a.f)(t).then(function(t){0===t.code&&(e.searchResultArr=t.data.song.list)}).catch(function(t){console.log(t)})}},mounted:function(){this.setHistory()}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("Scroll",{staticClass:"search_wrapper"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"search_input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.searchValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(t.searchValue)},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),t._v(" "),s("span",{staticClass:"iconfont icon-sousuo"}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.searchValue,expression:"searchValue"}],staticClass:"icon_delete",on:{click:t.clearInputValue}},[t._v("X")])]),t._v(" "),s("div",{staticClass:"tags"},[s("p",{staticClass:"title"},[t._v("搜索记录：")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.searchHistory.length,expression:"!searchHistory.length"}],staticClass:"empty"},[t._v("无搜索记录！")]),t._v(" "),t._l(t.searchHistory,function(e){return s("span",{directives:[{name:"show",rawName:"v-show",value:t.searchHistory.length,expression:"searchHistory.length"}],key:e.id,on:{click:function(s){return t.submit(e)}}},[t._v(t._s(e))])}),t._v(" "),s("br"),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.searchHistory.length,expression:"searchHistory.length"}],staticClass:"clearBtn",on:{click:t.clearHistory}},[t._v("清空记录")])],2),t._v(" "),s("Resoult",{attrs:{resoultSonglist:t.searchResultArr}})],1),t._v(" "),s("Loading",{directives:[{name:"show",rawName:"v-show",value:t.LoadingShow,expression:"LoadingShow"}]})],1)],1)},staticRenderFns:[]};var g=s("VU/8")(d,f,!1,function(t){s("/t5h"),s("MBl/")},"data-v-1d57dc71",null);e.default=g.exports},tUQD:function(t,e){}});